{"version":3,"file":"static/js/8815.92622b38.chunk.js","mappings":"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","sources":["Assets/icons/x.svg","Components/Club/ClubItem.tsx","Components/Club/ClubCartItem.tsx","Assets/icons/up-arrow.svg","Assets/icons/down-arrow.svg","Components/Club/Club.tsx","Config/clientSettings.ts","Helpers/auth.ts","Helpers/cart.tsx","Helpers/store.ts","Assets/storeItems|lazy|/^/.//.*/.jpg$/|groupOptions: {}|namespace object"],"sourcesContent":["var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgX(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 256 256\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"white\",\n    d: \"M205.66 194.34a8 8 0 0 1-11.32 11.32L128 139.31l-66.34 66.35a8 8 0 0 1-11.32-11.32L116.69 128L50.34 61.66a8 8 0 0 1 11.32-11.32L128 116.69l66.34-66.35a8 8 0 0 1 11.32 11.32L139.31 128Z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgX);\nexport default __webpack_public_path__ + \"static/media/x.b3295ae9ce0a3b7b53fbb42a0c049fa1.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useRef, useState } from 'react';\r\nimport { getItemQuantityFromCart, modifyCart } from '../../Helpers/cart';\r\nimport { Cart, Product } from '../../Interfaces/interfaces';\r\n\r\nexport default function ClubItem({\r\n  storeItem,\r\n  cart,\r\n  setCart\r\n}:{\r\n  storeItem:Product\r\n  cart:Cart,\r\n  setCart:Function\r\n}){\r\n  const [itemImgSrc, setItemImgSrc] = useState<string | undefined>();\r\n  const [isRequestPending,setIsRequestPending] = useState<boolean>(false);\r\n\r\n  //handle initial page load\r\n  const isInitialLoad = useRef(true);\r\n\r\n  useEffect(()=>{\r\n    if (isInitialLoad.current){\r\n      isInitialLoad.current = false;\r\n      //dynamically import images\r\n      import(`../../Assets/storeItems/${storeItem._id.toString()}.jpg`)\r\n        .then((module)=>{\r\n          setItemImgSrc(module.default);\r\n        });\r\n    };\r\n  },[isInitialLoad]);\r\n\r\n  return(\r\n    <div \r\n      className='club-item'\r\n      style={{\r\n        backgroundImage: `url(${itemImgSrc})`\r\n      }}\r\n    >\r\n      <div className='club-item-info'>\r\n        <div className='club-item-desc'>\r\n          <p>{storeItem.name}</p>\r\n          {\r\n            storeItem.cat==='bagel'\r\n            ?\r\n              <p>Two Pack(s)</p>\r\n            :\r\n              null\r\n          }\r\n          {\r\n            storeItem.cat==='spread'\r\n            ?\r\n              <p>1/2 LB</p>\r\n            :\r\n              null\r\n          }\r\n        </div>\r\n        {\r\n          storeItem.cat==='bagel'\r\n           ?\r\n            <button\r\n                onClick={()=>{\r\n                  const selection:string = 'two';\r\n                  modifyCart(\r\n                    getItemQuantityFromCart(cart,storeItem.name,selection)+1,\r\n                    storeItem._id.toString(),\r\n                    setCart,\r\n                    isRequestPending,\r\n                    setIsRequestPending,\r\n                    selection,\r\n                    true\r\n                  )\r\n                }}\r\n              >\r\n                +\r\n              </button>\r\n           :\r\n            null\r\n        }\r\n        {\r\n          storeItem.cat==='spread'\r\n           ?\r\n            <button\r\n                onClick={()=>{\r\n                  const selection:string = 'halflb';\r\n                  modifyCart(\r\n                    getItemQuantityFromCart(cart,storeItem.name,selection)+1,\r\n                    storeItem._id.toString(),\r\n                    setCart,\r\n                    isRequestPending,\r\n                    setIsRequestPending,\r\n                    selection,\r\n                    true\r\n                  )\r\n                }}\r\n              >\r\n                +\r\n              </button>\r\n           :\r\n            null\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useEffect, useState } from 'react';\r\nimport xImg from '../../Assets/icons/x.svg';\r\nimport { CartItem } from '../../Interfaces/interfaces';\r\nimport { handleCartItemInputChange, modifyCart } from '../../Helpers/cart';\r\n\r\nexport default function ClubCartItem({cartItem,setCart}:{cartItem:CartItem,setCart:Function}){\r\n  const [isRequestPending,setIsRequestPending] = useState<boolean>(false);\r\n  const [cartItemQuantity,setCartItemQuantity] = useState<number | string>(cartItem.quantity);\r\n\r\n  useEffect(()=>{\r\n    setCartItemQuantity(cartItem.quantity);\r\n  },[cartItem.quantity]);\r\n\r\n  return(\r\n    <div className='club-cart-item'>\r\n      <div>\r\n        <p>{cartItem.itemData.name}</p>\r\n        <p>{cartItem.selection === 'two' ? 'Two Pack(s)' : ''}{cartItem.selection === 'halflb' ? '1/2 LB' : ''}</p>\r\n      </div>\r\n      <p>\r\n        {\r\n          cartItem.itemData.cat==='mystery' ?\r\n            cartItem.quantity+' '\r\n          :\r\n          <input \r\n            type='number'\r\n            value={cartItemQuantity} \r\n            onChange={(e) => { \r\n              handleCartItemInputChange(\r\n                e,\r\n                setCartItemQuantity,\r\n                cartItem,\r\n                setCart,\r\n                isRequestPending,\r\n                setIsRequestPending,\r\n                cartItem.selection || '',\r\n                true\r\n              )\r\n            }}\r\n          /> \r\n        }\r\n        \r\n        in cart\r\n        </p>\r\n      {\r\n        cartItem.itemData.cat==='mystery'\r\n          ?\r\n          <button \r\n            type='button' \r\n            className='button-styled' \r\n          >\r\n            <p>Included</p>\r\n          </button>\r\n        :\r\n          <button \r\n            type='button' \r\n            className='button-styled' \r\n            onClick={() => {\r\n              modifyCart(\r\n                0,\r\n                cartItem.itemData._id,\r\n                setCart,\r\n                isRequestPending,\r\n                setIsRequestPending,\r\n                cartItem.selection || '',\r\n                true\r\n              );\r\n            }}\r\n          >\r\n          <p>Remove</p>\r\n          <img src={xImg} alt='remove from cart' />\r\n        </button>\r\n      }\r\n    </div>\r\n  )\r\n};","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgUpArrow(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"white\",\n    d: \"M3 19h18a1.002 1.002 0 0 0 .823-1.569l-9-13c-.373-.539-1.271-.539-1.645 0l-9 13A.999.999 0 0 0 3 19z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgUpArrow);\nexport default __webpack_public_path__ + \"static/media/up-arrow.49d5d4a0e8b3d38c8d8e11a716d1a863.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgDownArrow(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"white\",\n    d: \"M11.178 19.569a.998.998 0 0 0 1.644 0l9-13A.999.999 0 0 0 21 5H3a1.002 1.002 0 0 0-.822 1.569l9 13z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgDownArrow);\nexport default __webpack_public_path__ + \"static/media/down-arrow.59e139776c43c103c121fa8b467b3621.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Cart, CartItem, Product } from '../../Interfaces/interfaces';\r\nimport { emptyCart, fetchAndHandleCart, handlePlaceClubOrder, isClubCartValid } from '../../Helpers/cart';\r\nimport Sidebar from '../Sidebar/Sidebar';\r\nimport { getMembershipTier, verifyLoginToken } from '../../Helpers/auth';\r\nimport { fetchAndSetStoreItems } from '../../Helpers/store';\r\nimport './Club.css';\r\nimport ClubItem from './ClubItem';\r\nimport ClubCartItem from './ClubCartItem';\r\nimport { motion} from 'framer-motion';\r\nimport triangleUpArrowImg from '../../Assets/icons/up-arrow.svg';\r\nimport triangleDownArrowImg from '../../Assets/icons/down-arrow.svg';\r\n\r\nexport default function Club(){\r\n  const [isSignedIn,setIsSignedIn] = useState<boolean>(false);\r\n  const [isSidebarExpanded,setIsSidebarExpanded] = useState<boolean>(false);\r\n  const [cart,setCart] = useState<Cart>(emptyCart);\r\n  const [membershipTier,setMembershipTier] = useState<string>('');\r\n  const [deliveriesRemaining,setDeliveriesRemaining] = useState<number>(0);\r\n  const [billingCycleEndDate,setBillingCycleEndDate] = useState<string>();\r\n  const [storeItems,setStoreItems] = useState<Product[]>([]);\r\n  const [clubCart,setClubCart] = useState<Cart>(emptyCart);\r\n  const [date,setDate] = useState<Date>();\r\n  const [isCartExpanded,setIsCartExpanded] = useState<boolean>(false);\r\n  const [isCartValid,setIsCartValid] = useState<boolean>(false);\r\n  const [isShaking, setShaking] = useState(false);\r\n\r\n  const isInitialLoad = useRef(true);\r\n  \r\n  useEffect(() => {\r\n    if (clubCart) {\r\n      // Trigger animation when the variable changes\r\n      setShaking(true);\r\n\r\n      // Reset animation after a short delay\r\n      const timeoutId = setTimeout(() => {\r\n        setShaking(false);\r\n      }, 1000); // Adjust the duration as needed\r\n\r\n      // Clean up the timeout to avoid memory leaks\r\n      return () => clearTimeout(timeoutId);\r\n    }\r\n  }, [clubCart]);\r\n\r\n  useEffect(()=>{\r\n    setIsCartValid(isClubCartValid(clubCart));\r\n  },[clubCart]);\r\n\r\n  useEffect(()=>{\r\n    if (isInitialLoad.current){\r\n      isInitialLoad.current=false;\r\n      //verify is signed in\r\n      verifyLoginToken(setIsSignedIn);\r\n      fetchAndHandleCart(setCart);\r\n      //get store items\r\n      fetchAndSetStoreItems(setStoreItems);\r\n      //get membership tier and deliveries remaining\r\n      getMembershipTier(setMembershipTier,setDeliveriesRemaining,setBillingCycleEndDate);\r\n      //get a club cart\r\n      fetchAndHandleCart(setClubCart,true);\r\n    };\r\n  },[]);\r\n\r\n  if(\r\n      !isSignedIn\r\n    ){\r\n    return(\r\n      <>\r\n        <Sidebar \r\n          cart={cart}\r\n          isExpanded={isSidebarExpanded} \r\n          setIsExpanded={setIsSidebarExpanded}\r\n          isSignedIn={isSignedIn}\r\n          setIsSignedIn={setIsSignedIn}\r\n        />\r\n        <div onClick={()=>{setIsSidebarExpanded(isSidebarExpanded===true ? false: false)}} className='account-settings-message'>\r\n          You must be signed in to access this page.\r\n        </div>\r\n      </>\r\n    );\r\n  }else if(membershipTier==='Non-Member'){\r\n    return(\r\n      <>\r\n        <Sidebar \r\n          cart={cart}\r\n          isExpanded={isSidebarExpanded} \r\n          setIsExpanded={setIsSidebarExpanded}\r\n          isSignedIn={isSignedIn}\r\n          setIsSignedIn={setIsSignedIn}\r\n        />\r\n        <div onClick={()=>{setIsSidebarExpanded(isSidebarExpanded===true ? false: false)}} className='account-settings-message'>\r\n          You must be a club member to access this page.\r\n        </div>\r\n      </>\r\n    );\r\n  }else{\r\n    return(\r\n      <>\r\n        <Sidebar\r\n          cart={cart}\r\n          isExpanded={isSidebarExpanded} \r\n          setIsExpanded={setIsSidebarExpanded}\r\n          isSignedIn={isSignedIn}\r\n          setIsSignedIn={setIsSignedIn}\r\n        />\r\n        <motion.div\r\n          animate={{\r\n            y: isShaking ? [5,0] : 0,\r\n            height: isCartExpanded ? '75vh' : '135px',\r\n          }}\r\n          transition={{ duration: 1, ease: 'easeInOut'  }}\r\n          className={isCartExpanded ? 'club-cart-snapped-expanded' : 'club-cart-snapped-closed'}\r\n        >\r\n          <div className='club-cart-heading'>\r\n            <img onClick={()=>{setIsCartExpanded(!isCartExpanded)}} src={isCartExpanded===false ? triangleUpArrowImg : triangleDownArrowImg} alt='expand menu slider' />\r\n            <div className='club-cart-date-wrapper' onClick={()=>{setIsCartExpanded(!isCartExpanded)}}>\r\n            {\r\n              date\r\n                ? (\r\n                  <>\r\n                    Your Selected Ship Day is<br />\r\n                    <b>{date.toDateString()}</b>\r\n                  </>\r\n                )\r\n                : (\r\n                  <>\r\n                    <b>Please Select A Ship Day</b>\r\n                  </>\r\n                )\r\n            }\r\n            </div>\r\n            <button onClick={()=>{handlePlaceClubOrder(cart,isCartValid,deliveriesRemaining,date)}} type='button' className={`club-cart-place-order-button club-cart-valid-background`}>Place Order</button>\r\n          </div>\r\n          <div className='club-cart-filled-wrapper'>\r\n            <p className={`club-cart-valid ${isCartValid ? 'green' : 'yellow'}`}>\r\n              {\r\n                isCartValid === true\r\n                ?\r\n                  'You cart is full, an order can be placed!'\r\n                :\r\n                  'To place an order you must have 6 \"Two Packs\" and 1 \"1/2 LB\" spread in your cart.'\r\n              }  \r\n            </p>\r\n          </div>\r\n          {\r\n            clubCart && clubCart.items.map((cartItem:CartItem,index:number)=>{\r\n              return(\r\n                <ClubCartItem key={index} cartItem={cartItem} setCart={setClubCart} />\r\n              )\r\n            })\r\n          }\r\n        </motion.div>\r\n        <div\r\n          className='club'\r\n          onClick={()=>{setIsSidebarExpanded(isSidebarExpanded===true ? false: false)}}\r\n        >\r\n          <div className='club-heading'>\r\n            <h2>Thank you for being a {membershipTier}!</h2>\r\n            <p>\r\n              You have <b>{deliveriesRemaining}</b> {deliveriesRemaining===1 ? 'delivery' : 'deliveries'} remaining left this billing cycle ending on <b>{billingCycleEndDate}</b>.\r\n            </p>\r\n            <p>To place a delivery please add <b>six</b> bagel selections and <b>one</b> spread to your cart.</p>\r\n            <button type='button' onClick={()=>window.location.href='https://billing.stripe.com/p/login/4gw9Bb95Oeo70tadQQ'}>Manage Subscription</button>\r\n          </div>\r\n          <div className='calendar-wrapper'>\r\n            <h3>Choose Your Ship Date</h3>\r\n            <strong>\r\n              {\r\n                date ?\r\n                  `Your order will ship on ${date.toDateString()} or the next available business day.`\r\n                :\r\n                  'Please select a Wednesday or Thursday you would like your order shipped on.'\r\n              }\r\n            </strong>\r\n          </div>\r\n          <div className='club-items-container'>\r\n            {\r\n              storeItems && storeItems.sort((a, b) => {\r\n              if (a.cat === 'bagel' && b.cat !== 'bagel') {\r\n                  return -1;\r\n                } else if (a.cat === 'pastry' && b.cat !== 'bagel' && b.cat !== 'pastry') {\r\n                  return -1;\r\n                } else {\r\n                  return 1;\r\n                }\r\n              }).map((storeItem: Product,index) => {\r\n                //do not show the mystery bagel or pasteries\r\n                if (storeItem.cat==='mystery') return null;\r\n                if (storeItem.cat==='pastry') return null;\r\n                return(\r\n                  <ClubItem \r\n                    key={index} \r\n                    storeItem={storeItem}\r\n                    cart={clubCart}\r\n                    setCart={setClubCart}\r\n                  />\r\n                )\r\n              })\r\n            }\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n  };\r\n};","const USE_LOCALHOST:boolean = false; //FALSE FOR PRODUCTION\n\nexport const IS_MAINTENANCE_MODE:boolean = false;\nexport const HOME_LOADING_DELAY:number= 2000 //in milliseconds\n\nexport const getServerUrlPrefix = function(){\n  if (USE_LOCALHOST){\n    return('http://localhost:5000');\n  }else{\n    return('https://brendels-webstore-f2339d5fa5b2.herokuapp.com');\n  };\n};\n\nexport const getClientUrlPrefix = function(){\n  if (USE_LOCALHOST){\n    return('http://localhost:3000');\n  }else{\n    return('https://nybagelsclub.com')\n  };\n};\nexport const CHECKOUT_SUCCESS_REDIRECT_URL:string = `${getServerUrlPrefix()}/cart/checkout/success`;","import { getServerUrlPrefix } from \"../Config/clientSettings\";\n\nexport const verifyCartToken = async function(setCart:Function, isClub?:boolean):Promise<boolean>{\n  const cartTokenKey = isClub ? 'clubCartToken' : 'cartToken';\n  try{\n    const response = await fetch(`${getServerUrlPrefix()}/api/shop/carts/verify`,{\n      method: 'GET',\n      headers:{\n        'Content-Type': 'application/json',\n        'Cart-Token': `Bearer ${localStorage.getItem(cartTokenKey)}`,\n        'Authorization': `Bearer ${localStorage.getItem('loginToken')}`\n      }\n    });\n    if (response.status!==200) throw new Error('No valid cart detected. Either the user does not have a cart token or the token expired.');\n    const responseData = await response.json();\n    setCart(responseData.cart);\n    return responseData.isValid;\n  }catch(err){\n    console.log(err);\n    return false;\n  };\n};\n\nexport const requestCartToken = async function(isClub:boolean){\n  const response = await fetch(`${getServerUrlPrefix()}/api/shop/carts`,{\n    method: 'POST',\n    headers:{\n      'Content-Type': 'application/json',\n    },\n    body:JSON.stringify({\n      isClub: isClub\n    })\n  });\n  const responseData = await response.json();\n  if (responseData.cartToken){\n    //return the cart session token\n    return responseData.cartToken;  \n  }\n};\n\nexport const verifyLoginToken = async function(\n  setIsSignedIn?:Function,\n  setIsAdmin?:Function,\n  setUserID?:Function\n):Promise<boolean>{\n  let isValid:boolean = false;\n  //handle no login token is present\n  if (!localStorage.getItem('loginToken')){\n    if (setIsSignedIn) setIsSignedIn(false);\n    if (setIsAdmin) setIsAdmin(false);\n    return false;\n  };\n  try{\n    const response = await fetch(`${getServerUrlPrefix()}/api/users/verify`,{\n      method: 'GET',\n      headers:{\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${localStorage.getItem('loginToken')}`\n      }\n    });\n    const responseData = await response.json();\n    //handle 403 unauthorized\n    if (response.ok===false || response.status===403){\n      localStorage.removeItem('loginToken');\n      isValid=false;\n    }else{\n      isValid=responseData.isValid;\n    };\n    if (setIsAdmin && responseData.isAdmin===true) setIsAdmin(true);\n    if (setIsSignedIn) setIsSignedIn(isValid);\n    if (setUserID) setUserID(responseData.userID);\n    return isValid;\n  }catch(err){\n    console.log(err);\n    if (setIsAdmin) setIsAdmin(false);\n    return false;\n  };\n};\n\nexport const handleLogout = async function(setIsSignedIn?:Function){\n  await fetch(`${getServerUrlPrefix()}/api/users/logout`,{\n    method: 'POST',\n    headers:{\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${localStorage.getItem('loginToken')}`\n    }\n  });\n  if (setIsSignedIn) setIsSignedIn(false);\n  //remove the token locally\n  localStorage.removeItem('loginToken');\n};\n\nexport const getMembershipTier = async function(\n    setMembershipTier?:Function,\n    setRemainingDeliveries?:Function,\n    setExpirationDate?:Function\n  ):Promise<string>{\n  try{\n    if (!localStorage.getItem('loginToken')) throw new Error('You are not signed in');\n    const response = await fetch(`${getServerUrlPrefix()}/api/users/membershipLevel`,{\n      method: 'GET',\n      headers:{\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${localStorage.getItem('loginToken')}`\n      }\n    });\n    const responseData = await response.json();\n    if (setMembershipTier) setMembershipTier(responseData.membershipLevel);\n    if (setRemainingDeliveries) setRemainingDeliveries(responseData.remainingDeliveries);\n    if (setExpirationDate) setExpirationDate(new Date(responseData.expirationDate).toDateString());\n    return responseData.membershipLevel;\n  }catch(err){\n    console.log(err+', showing non-member pricing');\n    if (setMembershipTier) setMembershipTier('Non-Member');\n    return 'Non-Member';\n  };\n};","import { getServerUrlPrefix } from \"../Config/clientSettings\";\nimport { BagelItem, Cart, CartItem, SpreadItem } from \"../Interfaces/interfaces\";\nimport { requestCartToken, verifyCartToken } from \"./auth\";\n\nexport const modifyCart = async function(\n  updatedQuantity:number,\n  itemID:string,\n  setCart:Function,\n  isRequestPending:boolean,\n  setIsRequestPending:Function,\n  selection: string,\n  isClub:boolean\n){\n  let cartTokenKey:string = '';\n  //handle not a club request & checking for undefined since isClub is optional\n  if (isClub===false){\n    cartTokenKey = 'cartToken';\n  }else{\n    cartTokenKey = 'clubCartToken';\n  };\n\n  try{\n    //handle request is already pending limited users to 1 request at a time\n    if (isRequestPending) throw new Error('A request is already pending. Please wait for the current request to complete.');\n    //set request to pending\n    setIsRequestPending(true);\n    if (!itemID || updatedQuantity<0) throw new Error('One or more required inputs were left blank.');\n    if(!cartTokenKey) throw new Error('Your request for a local storage cart token was invalid. Did you provide a isClub value to this function?');\n    //make a request to the server to update quantity for cart\n    const response = await fetch(`${getServerUrlPrefix()}/api/shop/carts`,{\n      method: 'PUT',\n      headers:{\n        'Content-Type': 'application/json',\n        'Cart-Token': `Bearer ${localStorage.getItem(cartTokenKey)}`,\n        'Authorization': `Bearer ${localStorage.getItem('loginToken')}`\n      },\n      body: JSON.stringify({\n        itemID: itemID,\n        updatedQuantity: updatedQuantity,\n        selection: selection,\n        isClubCart: isClub || undefined\n      })\n    });\n    if (response.status===510){\n      alert('You have reached the maximum allowed quantity for the selected item.');\n    };\n    //if the cart token is invalid request a fresh one and call modifyCart again\n    if (response.status===403){ //BUG WARNING IF 403 IS RETURNED WHEN YOU CANT ADD ANYTHING NEW TO YOUR CLUB CART YOU WILL BE CAUGHT IN AN ENDLESS LOOP OF 403 RESPONSES\n      //request a new cart token\n      localStorage.setItem(cartTokenKey,await requestCartToken(isClub || false));\n      modifyCart(updatedQuantity,itemID,setCart,isRequestPending,setIsRequestPending,selection,isClub);\n    };\n    if (!response.ok) throw new Error('An error occurred in the request to update the cart.');\n    const responseData = await response.json();\n\n    if (responseData.cartToken && responseData.cart){\n      //replace the cartToken in localStorage with the updated cartToken\n      localStorage.setItem(cartTokenKey,responseData.cartToken);\n      //update cart state\n      setCart(responseData.cart);\n    };\n    //allow another request to the server\n    setIsRequestPending(false);\n  }catch(err){\n    setIsRequestPending(false);\n  };\n};\n\nexport const fetchAndHandleCart = async function(setCart:Function,isClub?:boolean){\n  try {\n    const cartTokenKey = isClub ? 'clubCartToken' : 'cartToken';\n    const cartToken: string | null = localStorage.getItem(cartTokenKey);\n    // If a cart token was not found, obtain a fresh one\n    if (!cartToken) {\n      // Request a new cart token\n      localStorage.setItem(cartTokenKey, await requestCartToken(isClub || false));\n    };\n    // If a cart token exists but is invalid\n    if (!await verifyCartToken(setCart,isClub)) { //NOTE THIS VERIFYCART TOKEN IS SETTING A CART\n      localStorage.setItem(cartTokenKey, await requestCartToken(isClub || false));\n      // Because a new cart token was requested, set the cart state back to an empty array\n      setCart([]);\n    };\n  } catch (err) {\n    console.log(err);\n  };  \n};\n\nexport const getUnitPriceFromCartItem = function(storeItem:SpreadItem | BagelItem, selection?:string):number{\n  let price:number = 0;\n  if (storeItem.cat==='bagel' && selection==='two'){\n    const tempStoreItem:BagelItem = storeItem as BagelItem;\n    price = tempStoreItem.twoPrice;\n  }else if (storeItem.cat==='bagel' && selection==='six'){\n    const tempStoreItem:BagelItem = storeItem as BagelItem;\n    price = tempStoreItem.sixPrice;\n  }else if (storeItem.cat==='bagel' && selection==='dozen'){\n    const tempStoreItem:BagelItem = storeItem as BagelItem;\n    price = tempStoreItem.dozenPrice;\n  }else if (storeItem.cat==='spread'){\n    const tempCartItem:SpreadItem = storeItem as SpreadItem;\n    price = tempCartItem.price;\n  };\n  return price;\n};\n\nexport const handleCartItemInputChange = function(\n  e:any,\n  setCartQuantity:Function,\n  cartItem:CartItem,\n  setCart:Function,\n  isRequestPending:boolean,\n  setIsRequestPending:Function,\n  selection: string,\n  isClub:boolean\n){ //accepts an event from an input onChange \n  const newVal: number = parseInt(e.target.value);\n  //we dont want users to accidently delete their cart so lets prevent that\n  if (!newVal) {\n    setCartQuantity('');\n    return ;\n  };\n  modifyCart(\n    newVal,\n    cartItem.itemData._id,\n    setCart,\n    isRequestPending,\n    setIsRequestPending,\n    selection,\n    isClub\n  );\n};\n\nexport const getSelectionName = function(cartItem:CartItem){\n  if (cartItem.itemData.cat==='bagel' && cartItem.selection==='six') return 'Six Pack(s)';\n  if (cartItem.itemData.cat==='bagel' && cartItem.selection==='dozen') return \"Baker's Dozen(s)\";\n  if (cartItem.itemData.cat==='bagel' && cartItem.selection==='two') return 'Two Pack(s)';\n\n  //need to have this first because the current store items without category of spread show \n  if (cartItem.itemData.cat==='spread' && cartItem.selection==='halflb') return '1/2 LB';\n  if (cartItem.itemData.cat==='spread') return 'One Pound';\n  \n  if (cartItem.itemData.cat==='pastry') return 'Six Pack(s)';\n  if (cartItem.itemData.cat==='mystery') return 'Single(s)';\n  return 'N/A';\n};\n\nexport const getCartItemSubtotal = function(cartItem:CartItem):number{\n  return cartItem.quantity * cartItem.unitPriceInDollars;\n};\n\nexport const getItemQuantityFromCart = function(cart:Cart, itemName: string, selection?: string): number {\n  if (!cart || !cart.items) return 0;\n\n  let quantity = 0;\n\n  for (let index = 0; index < cart.items.length; index++) {\n    const cartItem: CartItem = cart.items[index];\n    \n    // Check if the selection and itemName match\n    if (\n      cartItem.selection === selection &&\n      cartItem.itemData.cat === 'bagel' &&\n      cartItem.itemData.name === itemName\n    ) {\n      quantity = cartItem.quantity;\n      break; // Exit the loop if the item is found\n    }else if(\n      cartItem.itemData.cat === 'spread' &&\n      cartItem.itemData.name === itemName\n    ){\n      quantity = cartItem.quantity;\n      break; // Exit the loop if the item is found\n    }else if(\n      cartItem.itemData.cat === 'pastry' &&\n      cartItem.itemData.name === itemName\n    ){\n      quantity = cartItem.quantity;\n      break;\n    }\n  };\n  return quantity;\n};\n\n\nexport const emptyCart = {\n  items: [],\n  subtotalInDollars: 0,\n  taxInDollars: 0,\n  totalQuantity: 0,\n  discountAmountInDollars: 0,\n  finalPriceInDollars: 0,\n  desiredShipDate: new Date(),\n  isGuest: false\n};\n\nexport const requestApplyMembershipPricingToCart = async function(setCart?:Function):Promise<void>{\n  const cartToken:string | null = localStorage.getItem('cartToken');\n  const loginToken:string | null = localStorage.getItem('loginToken');\n\n  if (cartToken){\n    const response = await fetch(`${getServerUrlPrefix()}/api/shop/carts/applyMembershipPricing`,{\n      method: 'POST',\n      headers:{\n        'Content-Type': 'application/json',\n        'Cart-Token': `Bearer ${cartToken}`,\n        'Authorization': `Bearer ${loginToken}`\n      }\n    });\n    if (response.ok){\n      const responseData = await response.json();\n      localStorage.setItem('cartToken',responseData.cartToken);\n      if (setCart) setCart(responseData.cart);\n      console.log('Membership pricing successfully applied!');\n    }else{\n      console.log('User is not a member.');\n    };\n  };\n};\n\nexport const isClubCartValid = function(clubCart:Cart):boolean{\n  let totalSpreadQuantity = 0;\n  let totalBagelQuantity = 0;\n\n  clubCart.items.map((cartItem)=>{\n    switch (cartItem.itemData.cat){\n      case 'bagel':\n        totalBagelQuantity+=cartItem.quantity;\n        break;\n      case 'spread':\n        totalSpreadQuantity+=cartItem.quantity;\n        break;\n      default:\n        break;\n    };\n  });\n  return (totalSpreadQuantity===1 && totalBagelQuantity===6);\n}\n\nexport const handlePlaceClubOrder = async function(clubCart:Cart,isClubCartValid:boolean,deliveriesRemaining:number,shipDate?:Date){\n  if (!isClubCartValid){\n    alert('To place your order you must have 6 \"Two Packs\" and 1 \"1/2 LB\" spread in your cart.')\n  }else if(!shipDate){\n    alert('You must select a ship date to place your order.');\n  }else if(deliveriesRemaining<=0){\n    alert('You do not have any deliveries remaining this billing cycle.');\n  }else{\n    //request the cart token\n    const response = await fetch(`${getServerUrlPrefix()}/api/memberships/create-club-checkout-session`,{\n      method: 'POST',\n      headers:{\n        'Content-Type': `application/json`,\n        'Authorization': `Bearer ${localStorage.getItem('loginToken')}`,\n        'cart-token': `Bearer ${localStorage.getItem('clubCartToken')}`\n      },\n      body:JSON.stringify({\n        shipDate: shipDate\n      })\n    });\n    const responseData = await response.json();\n    if (responseData.sessionUrl) window.location.href=responseData.sessionUrl;\n  }\n};","import { getServerUrlPrefix } from \"../Config/clientSettings\";\n\nexport const fetchAndSetStoreItems = async function(setBagelItems?:Function,setPastryItems?:Function){  \n  try{\n    //make request for all store items\n    const response = await fetch(`${getServerUrlPrefix()}/api/shop/all`,{\n      method: 'GET'\n    });\n    const responseData = await response.json();\n    const { bagelItems,pastryItems } = responseData;\n    //handle no items found\n    if (!bagelItems || !pastryItems) throw new Error('There was an error retrieving shop items.');\n\n    if (setBagelItems && bagelItems) setBagelItems(bagelItems);\n    if (setPastryItems && pastryItems) setPastryItems(pastryItems);\n  }catch(err){\n    console.log(`There was an error ${err} when retrieving shop items.`);\n  };\n};","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 6581;\nmodule.exports = webpackEmptyAsyncContext;"],"names":["ClubItem","_ref","storeItem","cart","setCart","itemImgSrc","setItemImgSrc","useState","isRequestPending","setIsRequestPending","isInitialLoad","useRef","useEffect","current","concat","_id","toString","then","module","default","_jsx","className","style","backgroundImage","children","_jsxs","name","cat","onClick","modifyCart","getItemQuantityFromCart","selection","ClubCartItem","cartItem","cartItemQuantity","setCartItemQuantity","quantity","itemData","type","value","onChange","e","handleCartItemInputChange","src","xImg","alt","Club","isSignedIn","setIsSignedIn","isSidebarExpanded","setIsSidebarExpanded","emptyCart","membershipTier","setMembershipTier","deliveriesRemaining","setDeliveriesRemaining","billingCycleEndDate","setBillingCycleEndDate","storeItems","setStoreItems","clubCart","setClubCart","date","setDate","isCartExpanded","setIsCartExpanded","isCartValid","setIsCartValid","isShaking","setShaking","timeoutId","setTimeout","clearTimeout","isClubCartValid","verifyLoginToken","fetchAndHandleCart","fetchAndSetStoreItems","getMembershipTier","_Fragment","Sidebar","isExpanded","setIsExpanded","motion","div","animate","y","height","transition","duration","ease","triangleUpArrowImg","triangleDownArrowImg","toDateString","handlePlaceClubOrder","items","map","index","window","location","href","sort","a","b","getServerUrlPrefix","getClientUrlPrefix","verifyCartToken","async","isClub","cartTokenKey","response","fetch","method","headers","localStorage","getItem","status","Error","responseData","json","isValid","err","console","log","requestCartToken","body","JSON","stringify","cartToken","setIsAdmin","setUserID","ok","removeItem","isAdmin","userID","handleLogout","setRemainingDeliveries","setExpirationDate","membershipLevel","remainingDeliveries","Date","expirationDate","updatedQuantity","itemID","isClubCart","undefined","alert","setItem","setCartQuantity","newVal","parseInt","target","getSelectionName","getCartItemSubtotal","unitPriceInDollars","itemName","length","subtotalInDollars","taxInDollars","totalQuantity","discountAmountInDollars","finalPriceInDollars","desiredShipDate","isGuest","requestApplyMembershipPricingToCart","loginToken","totalSpreadQuantity","totalBagelQuantity","shipDate","sessionUrl","setBagelItems","setPastryItems","bagelItems","pastryItems","webpackEmptyAsyncContext","req","Promise","resolve","code","keys","id","exports"],"sourceRoot":""}