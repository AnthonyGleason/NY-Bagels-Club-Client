{"version":3,"file":"static/js/7482.1884e48b.chunk.js","mappings":"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","sources":["Components/Accounts/MyOrders/OrderTrackingItem/OrderTrackingItem.tsx","Assets/icons/order-pending.svg","Assets/icons/order-processing.svg","Assets/icons/order-shipped.svg","Components/Accounts/MyOrders/OrderItem/OrderItem.tsx","Components/Accounts/MyOrders/MyOrders.tsx","Config/clientSettings.ts","Helpers/auth.ts","Helpers/cart.tsx"],"sourcesContent":["import React from 'react';\nimport { Order } from '../../../../Interfaces/interfaces';\n\nexport default function OrderTrackingItem({\n  trackingNumber,\n  order,\n  index\n}:{\n  trackingNumber:string,\n  order: Order,\n  index: number\n}){\n  if (trackingNumber !== ''){\n    return(\n      <div key={trackingNumber}>\n        <h4>Tracking Number #{index+1}</h4>\n        <p>USPS Priority Mail: {trackingNumber}</p>\n      </div>\n    ) \n  }else{\n    return(\n      <>\n      </>\n    )\n  }\n}","var _g;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgOrderPending(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"white\",\n    d: \"M7 3H17V7.2L12 12L7 7.2V3Z\"\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    id: \"eosIconsHourglass0\",\n    fill: \"freeze\",\n    attributeName: \"opacity\",\n    begin: \"0;eosIconsHourglass1.end\",\n    dur: \"2s\",\n    from: 1,\n    to: 0\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"white\",\n    d: \"M17 21H7V16.8L12 12L17 16.8V21Z\"\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    fill: \"freeze\",\n    attributeName: \"opacity\",\n    begin: \"0;eosIconsHourglass1.end\",\n    dur: \"2s\",\n    from: 0,\n    to: 1\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"white\",\n    d: \"M6 2V8H6.01L6 8.01L10 12L6 16L6.01 16.01H6V22H18V16.01H17.99L18 16L14 12L18 8.01L17.99 8H18V2H6ZM16 16.5V20H8V16.5L12 12.5L16 16.5ZM12 11.5L8 7.5V4H16V7.5L12 11.5Z\"\n  }), /*#__PURE__*/React.createElement(\"animateTransform\", {\n    id: \"eosIconsHourglass1\",\n    attributeName: \"transform\",\n    attributeType: \"XML\",\n    begin: \"eosIconsHourglass0.end\",\n    dur: \"0.5s\",\n    from: \"0 12 12\",\n    to: \"180 12 12\",\n    type: \"rotate\"\n  }))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgOrderPending);\nexport default __webpack_public_path__ + \"static/media/order-pending.8b69ec909280340960d7738541a90d3b.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgOrderProcessing(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 2048 2048\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"white\",\n    d: \"M837 844q-23 37-53 67t-68 54l51 124l-118 48l-51-123q-40 10-86 10t-86-10l-51 123l-118-48l51-124q-37-23-67-53t-54-68L63 895L15 777l123-51q-10-40-10-86t10-86L15 503l48-118l124 51q46-75 121-121l-51-124l118-48l51 123q40-10 86-10t86 10l51-123l118 48l-51 124q75 46 121 121l124-51l48 118l-123 51q10 40 10 86t-10 86l123 51l-48 118l-124-51zm-325 52q53 0 99-20t82-55t55-81t20-100q0-53-20-99t-55-82t-81-55t-100-20q-53 0-99 20t-82 55t-55 81t-20 100q0 53 20 99t55 82t81 55t100 20zm1408 448q0 55-14 111l137 56l-48 119l-138-57q-59 98-156 156l57 137l-119 49l-56-137q-56 14-111 14t-111-14l-56 137l-119-49l57-137q-98-58-156-156l-138 57l-48-119l137-56q-14-56-14-111t14-111l-137-56l48-119l138 57q58-97 156-156l-57-138l119-48l56 137q56-14 111-14t111 14l56-137l119 48l-57 138q97 59 156 156l138-57l48 119l-137 56q14 56 14 111zm-448 320q66 0 124-25t101-68t69-102t26-125q0-66-25-124t-69-101t-102-69t-124-26q-66 0-124 25t-102 69t-69 102t-25 124q0 66 25 124t68 102t102 69t125 25z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgOrderProcessing);\nexport default __webpack_public_path__ + \"static/media/order-processing.eeadd9934b7fb58c68ba17a4edef0b72.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgOrderShipped(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"white\",\n    d: \"M18 18.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5s.67 1.5 1.5 1.5m1.5-9H17V12h4.46L19.5 9.5M6 18.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5s.67 1.5 1.5 1.5M20 8l3 4v5h-2c0 1.66-1.34 3-3 3s-3-1.34-3-3H9c0 1.66-1.34 3-3 3s-3-1.34-3-3H1V6c0-1.11.89-2 2-2h14v4h3M3 6v9h.76c.55-.61 1.35-1 2.24-1c.89 0 1.69.39 2.24 1H15V6H3Z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgOrderShipped);\nexport default __webpack_public_path__ + \"static/media/order-shipped.c032e3e0cb0c3061b4c049aeede7bcbd.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\nimport { Address, Cart, CartItem, Order } from '../../../../Interfaces/interfaces';\nimport './OrderItem.css';\nimport OrderTrackingItem from '../OrderTrackingItem/OrderTrackingItem';\nimport { getSelectionName } from '../../../../Helpers/cart';\nimport orderPendingImg from '../../../../Assets/icons/order-pending.svg';\nimport orderProcessingImg from '../../../../Assets/icons/order-processing.svg';\nimport orderShippedImg from '../../../../Assets/icons/order-shipped.svg';\n\nexport default function OrderItem({\n  cart,\n  dateCreated,\n  giftMessage,\n  shippingAddress,\n  status,\n  totalAmount,\n  trackingNumberArr,\n  order\n}:{\n  cart: Cart,\n  dateCreated: Date,\n  giftMessage: string,\n  shippingAddress: Address,\n  status:string,\n  totalAmount:number,\n  trackingNumberArr:string[],\n  order:Order\n}){\n  const [isExpanded,setIsExpanded] = useState(true);\n  const getOrderLevel = function(){\n    switch(status.toLowerCase()){\n      case 'pending':\n        return 0;\n      case 'processing':\n        return 1;\n      case 'shipped':\n        return 2;\n      default:\n        return 0;\n    };\n  };\n  const orderLevel = getOrderLevel();\n  const pendingOrderColor = orderLevel>=0 ? '#006400' : 'grey';\n  const processingOrderColor = orderLevel>=1 ? '#006400' : 'grey';\n  const shippedOrderColor = orderLevel>=2 ? '#006400' : 'grey';\n\n  const toggleExpandOrderItem = function(isExpanded:boolean, setIsExpanded:Function){\n    if (isExpanded){\n      setIsExpanded(false);\n    }else{\n      setIsExpanded(true);\n    };\n  };\n  \n  if (isExpanded){\n    return(\n      <div className='order-item'>\n        <button className='order-item-expand-toggle'>\n          <span className='order-date'>Order Date: {dateCreated.toUTCString().split(' ').slice(0, 4).join(' ')}</span>\n          <span className='order-id'>Order Number: #{order._id}</span>\n        </button>\n        <div className='order-info-wrapper'>\n          <div>\n            <h4>Shipping Address</h4>\n            <ul className='order-item-shipping'>\n              <li>{shippingAddress.fullName}</li>\n              <li>{shippingAddress.phone}</li>\n              <li>{shippingAddress.line1}</li>\n              <li>{shippingAddress.city}</li>\n              <li>{shippingAddress.state}, {shippingAddress.postal_code}</li>\n              <li>{shippingAddress.country}</li>\n            </ul>\n          </div>\n          <div className='order-summary'>\n            <h4>Item Summary</h4>\n            <ul>\n              {\n                cart.items.map((cartItem:CartItem,index:number)=>{\n                  const formattedSelection:string = getSelectionName(cartItem);\n                  return(\n                    <li key={index}>\n                      <span>{cartItem.quantity}x {cartItem.itemData.name}, {formattedSelection}:</span>\n                      <span><strong>${(cartItem.unitPriceInDollars * cartItem.quantity).toFixed(2)}</strong></span>\n                    </li>\n                  )\n                })\n              }\n            </ul>\n          </div>\n          <div className='order-costs'>\n            <h4>Order Costs:</h4>\n            <p>\n              <span>Basket Subtotal:</span>\n              <span><strong>${order.cart.subtotalInDollars.toFixed(2)}</strong></span>\n            </p>\n            <p>\n              <span>Calculated Tax:</span>\n              <span><strong>${order.cart.taxInDollars.toFixed(2)}</strong></span>\n            </p>\n            <p>\n              <span>Shipping Cost:</span>\n              <span><strong>Free</strong></span>\n            </p>\n            {\n              order.cart.discountAmountInDollars>0 ?\n              <p>\n                <span>Discount Applied:</span>\n                <span><strong>-${order.cart.discountAmountInDollars.toFixed(2)}</strong></span>\n              </p> :\n              null\n            }\n            <p>\n              <span>Total Cost:</span>\n              <span><strong>${order.cart.finalPriceInDollars.toFixed(2)}</strong></span>\n            </p>\n          </div>\n          {\n            giftMessage!==''\n            ?\n            <div>\n              <h4>Gift Message:</h4>\n              <p>{giftMessage}</p>\n            </div>\n            : null\n          }\n          <div>\n            <h4>Order Status</h4>\n            <p className='order-tracking-visual'>\n              <img src={orderPendingImg} alt='order pending' style={{backgroundColor: pendingOrderColor}} />\n              <img src={orderProcessingImg} alt='order processing' style={{backgroundColor: processingOrderColor}} />\n              <img src={orderShippedImg} alt='order shipped' style={{backgroundColor: shippedOrderColor}} />\n            </p>\n            <p>Current Status: {status}</p>\n          </div>\n          {\n            trackingNumberArr.length>0 ?\n              trackingNumberArr.map((trackingNumber: string,index:number) => (\n                <OrderTrackingItem index={index} key={index} trackingNumber={trackingNumber} order={order} />\n              ))\n            :\n              <div key=\"noTracking\">\n                <h4>Track Your Order</h4>\n                <p>Check Back Soon!</p>\n                <p>Your selected ship date is <strong>{new Date(order.cart.desiredShipDate).toUTCString().split(' ').slice(0, 4).join(' ')}</strong>.</p>\n              </div>\n          }\n        </div>\n      </div>\n    );\n  }else{\n    return(\n      <button className='order-item-expand-toggle' onClick={()=>{toggleExpandOrderItem(isExpanded,setIsExpanded)}}>\n        <span className='order-date'>Order Date: {dateCreated.toUTCString().split(' ').slice(0, 4).join(' ')}</span>\n        <span className='order-id'>Order Number: #{order._id}</span>\n      </button>\n    );\n  };\n};","import React, { useEffect, useRef, useState } from 'react';\nimport { Cart, Order } from '../../../Interfaces/interfaces';\nimport './MyOrders.css';\nimport Sidebar from '../../Sidebar/Sidebar';\nimport { emptyCart, fetchAndHandleCart } from '../../../Helpers/cart';\nimport { verifyLoginToken } from '../../../Helpers/auth';\nimport OrderItem from './OrderItem/OrderItem';\nimport { getServerUrlPrefix } from '../../../Config/clientSettings';\nimport './MyOrders.css';\n\nexport default function MyOrders(){\n  const [emailInput,setEmailInput] = useState<string>('');\n  const [orderIDInput,setOrderIDInput] =useState<string>('#');\n\n  const [order,setOrder] = useState<Order>();\n  const [isSignedIn,setIsSignedIn] = useState<boolean>(true);\n  const [isSidebarExpanded,setIsSidebarExpanded] = useState<boolean>(false);\n  const [cart,setCart] = useState<Cart>(emptyCart);\n\n  const isInitialLoad = useRef(true);\n\n  useEffect(()=>{\n    if(isInitialLoad.current){\n      isInitialLoad.current = false;\n      //fetch and set cart\n      fetchAndHandleCart(setCart);\n      //verify login token\n      verifyLoginToken(setIsSignedIn);\n    };\n  },[]);\n\n  const handleRequestOrder = async function(){\n    if (!emailInput){\n      alert('The email field cannot be left blank.')\n      return;\n    };\n    if (!orderIDInput){\n      alert('The orderID field cannot be left blank.')\n      return;\n    };\n    //trim #\n    const formattedOrderID: string = orderIDInput[0] === '#' ? orderIDInput.substring(1) : orderIDInput;\n\n    const response = await fetch(`${getServerUrlPrefix()}/api/shop/orders/${formattedOrderID}`,{\n      method: 'POST',\n      headers:{\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        userEmail: emailInput\n      })\n    })\n    \n    if (response.status===404){\n      alert('An order was not found for the provided email and order number.');\n    }else if(response.status===401){\n      alert('The provided email or order number are incorrect. Please review the entered order number and ensure you entered the same email as the one you provided during checkout.')\n    };\n\n    const responseData = await response.json();\n    if (responseData.orderData) setOrder(responseData.orderData);\n  };\n\n  const handleOrderIDInputChange = function(newVal:string){\n    if (newVal[0]!=='#'){\n      setOrderIDInput('#'+newVal);\n    }else{\n      setOrderIDInput(newVal);\n    };\n  };\n\n  return(\n    <>\n      <Sidebar \n          cart={cart}\n          isExpanded={isSidebarExpanded} \n          setIsExpanded={setIsSidebarExpanded}\n          isSignedIn={isSignedIn}\n          setIsSignedIn={setIsSignedIn}\n        />\n      <div className='guest-order-tracking' onClick={()=>{setIsSidebarExpanded(isSidebarExpanded===true ? false: false)}}>\n        <form className='guest-order-tracking-form'>\n          <h3 className='store-items-heading'>Track My Order</h3>\n          <p>\n            Please enter both the same email as entered during checkout along with the order number generated on your New York Bagels Club order confirmation email.\n          </p>\n          <div className='email-input'>\n            <label>Email Address:</label>\n            <input  value={emailInput} onChange={(e)=>{setEmailInput(e.target.value)}} placeholder='example@example.com' />\n          </div>\n          <div className='order-input'>\n            <label>Order Number:</label>\n            <input  value={orderIDInput} onChange={(e)=>{handleOrderIDInputChange(e.target.value)}} placeholder='#1234567890' />\n          </div>\n          <button className='search-guest-order-button' type='button' onClick={()=>{handleRequestOrder()}}>View My Order</button>\n          {\n            order ?     \n              <OrderItem \n                cart={order.cart}\n                dateCreated={new Date(order.dateCreated)}\n                giftMessage={order.giftMessage || ''}\n                shippingAddress={order.shippingAddress}\n                status={order.status}\n                totalAmount={order.cart.finalPriceInDollars}\n                trackingNumberArr={order.trackingNumberArr || []}\n                order={order}\n              />\n            :\n              null\n          }\n        </form>\n      </div>\n    </>\n  )\n};\n// export default function MyOrders(){\n//   const [orders,setOrders] = useState<Order[]>([]);\n//   const [isSignedIn,setIsSignedIn] = useState<boolean>(true);\n//   const [isSidebarExpanded,setIsSidebarExpanded] = useState<boolean>(false);\n//   const [cart,setCart] = useState<Cart>(emptyCart);\n\n//   const isInitialLoad = useRef(true);\n\n//   useEffect(()=>{\n//     if(isInitialLoad.current){\n//       isInitialLoad.current = false;\n//       //fetch orders\n//       fetchOrders(setOrders);\n//       //fetch and set cart\n//       fetchAndHandleCart(setCart);\n//       //verify login token\n//       verifyLoginToken(setIsSignedIn);\n//     };\n//   },[]);\n\n//   return(\n//     <>\n//       <Sidebar \n//         cart={cart}\n//         isExpanded={isSidebarExpanded} \n//         setIsExpanded={setIsSidebarExpanded}\n//         isSignedIn={isSignedIn}\n//         setIsSignedIn={setIsSignedIn}\n//       />\n//       <div className='my-orders' onClick={()=>{setIsSidebarExpanded(isSidebarExpanded===true ? false: false)}}>\n//         <h3 className='my-orders-heading'>My Orders</h3>\n//         <ul className='orders-container'>\n//           {\n//             orders.length<=0\n//             ?\n//               <li>Place your first order to get started!</li>\n//             :\n//             orders.sort((a,b)=>{\n//               if (a.dateCreated>b.dateCreated) return -1;\n//               return 1;\n//             }).map((order:Order,index:number)=>{\n//               const orderDate = new Date(order.dateCreated);\n//               const dateCreated = new Date(orderDate.getUTCFullYear(), orderDate.getUTCMonth(), orderDate.getUTCDate(), orderDate.getUTCHours(), orderDate.getUTCMinutes(), orderDate.getUTCSeconds());\n//               const giftMessage:string = order.giftMessage || '';\n//               const shippingAddress:Address = order.shippingAddress;\n//               const status:string = order.status;\n//               const totalAmount:number = order.cart.finalPriceInDollars;\n//               const trackingNumberArr:string[] = order.trackingNumberArr || [];\n//               const orderCart:Cart = order.cart;\n              \n//               return(\n//                 <OrderItem \n//                   cart={orderCart}\n//                   dateCreated={dateCreated}\n//                   giftMessage={giftMessage}\n//                   shippingAddress={shippingAddress}\n//                   status={status}\n//                   totalAmount={totalAmount}\n//                   trackingNumberArr={trackingNumberArr}\n//                   order={order}\n//                   key={index}\n//                 />\n//               )\n//             })\n//           }\n//         </ul>\n//       </div>\n//     </>\n//   )\n// }","const USE_LOCALHOST:boolean = false; //FALSE FOR PRODUCTION\n\nexport const IS_MAINTENANCE_MODE:boolean = false;\nexport const HOME_LOADING_DELAY:number= 2250 //in milliseconds\n\nexport const getServerUrlPrefix = function(){\n  if (USE_LOCALHOST){\n    return('http://localhost:5000');\n  }else{\n    return('https://nybagelsclub-7eb3cdcd8d53.herokuapp.com');\n  };\n};\n\nexport const getClientUrlPrefix = function(){\n  if (USE_LOCALHOST){\n    return('http://localhost:3000');\n  }else{\n    return('https://anthonygleason.github.io/NY-Bagels-Club-Client')\n  };\n};\nexport const CHECKOUT_SUCCESS_REDIRECT_URL:string = `${getServerUrlPrefix()}/cart/checkout/success`;","import { getServerUrlPrefix } from \"../Config/clientSettings\";\n\nexport const verifyCartToken = async function(setCart:Function, isClub?:boolean):Promise<boolean>{\n  const cartTokenKey = isClub ? 'clubCartToken' : 'cartToken';\n  try{\n    const response = await fetch(`${getServerUrlPrefix()}/api/shop/carts/verify`,{\n      method: 'GET',\n      headers:{\n        'Content-Type': 'application/json',\n        'Cart-Token': `Bearer ${localStorage.getItem(cartTokenKey)}`,\n        'Authorization': `Bearer ${localStorage.getItem('loginToken')}`\n      }\n    });\n    if (response.status!==200) throw new Error('No valid cart detected. Either the user does not have a cart token or the token expired.');\n    const responseData = await response.json();\n    setCart(responseData.cart);\n    return responseData.isValid;\n  }catch(err){\n    console.log(err);\n    return false;\n  };\n};\n\nexport const requestCartToken = async function(isClub:boolean){\n  const response = await fetch(`${getServerUrlPrefix()}/api/shop/carts`,{\n    method: 'POST',\n    headers:{\n      'Content-Type': 'application/json',\n    },\n    body:JSON.stringify({\n      isClub: isClub\n    })\n  });\n  const responseData = await response.json();\n  if (responseData.cartToken){\n    //return the cart session token\n    return responseData.cartToken;  \n  }\n};\n\nexport const verifyLoginToken = async function(\n  setIsSignedIn?:Function,\n  setIsAdmin?:Function,\n  setUserID?:Function\n):Promise<boolean>{\n  let isValid:boolean = false;\n  //handle no login token is present\n  if (!localStorage.getItem('loginToken')){\n    if (setIsSignedIn) setIsSignedIn(false);\n    if (setIsAdmin) setIsAdmin(false);\n    return false;\n  };\n  try{\n    const response = await fetch(`${getServerUrlPrefix()}/api/users/verify`,{\n      method: 'GET',\n      headers:{\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${localStorage.getItem('loginToken')}`\n      }\n    });\n    const responseData = await response.json();\n    //handle 403 unauthorized\n    if (response.ok===false || response.status===403){\n      localStorage.removeItem('loginToken');\n      isValid=false;\n    }else{\n      isValid=responseData.isValid;\n    };\n    if (setIsAdmin && responseData.isAdmin===true) setIsAdmin(true);\n    if (setIsSignedIn) setIsSignedIn(isValid);\n    if (setUserID) setUserID(responseData.userID);\n    return isValid;\n  }catch(err){\n    console.log(err);\n    if (setIsAdmin) setIsAdmin(false);\n    return false;\n  };\n};\n\nexport const handleLogout = async function(setIsSignedIn?:Function){\n  await fetch(`${getServerUrlPrefix()}/api/users/logout`,{\n    method: 'POST',\n    headers:{\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${localStorage.getItem('loginToken')}`\n    }\n  });\n  if (setIsSignedIn) setIsSignedIn(false);\n  //remove the token locally\n  localStorage.removeItem('loginToken');\n};\n\nexport const getMembershipTier = async function(\n    setMembershipTier?:Function,\n    setRemainingDeliveries?:Function,\n    setExpirationDate?:Function\n  ):Promise<string>{\n  try{\n    if (!localStorage.getItem('loginToken')) throw new Error('You are not signed in');\n    const response = await fetch(`${getServerUrlPrefix()}/api/users/membershipLevel`,{\n      method: 'GET',\n      headers:{\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${localStorage.getItem('loginToken')}`\n      }\n    });\n    const responseData = await response.json();\n    if (setMembershipTier) setMembershipTier(responseData.membershipLevel);\n    if (setRemainingDeliveries) setRemainingDeliveries(responseData.remainingDeliveries);\n    if (setExpirationDate) setExpirationDate(new Date(responseData.expirationDate).toDateString());\n    return responseData.membershipLevel;\n  }catch(err){\n    console.log('You are not signed in, showing non-member pricing.');\n    if (setMembershipTier) setMembershipTier('Non-Member');\n    return 'Non-Member';\n  };\n};","import { getServerUrlPrefix } from \"../Config/clientSettings\";\nimport { BagelItem, Cart, CartItem, SpreadItem } from \"../Interfaces/interfaces\";\nimport { requestCartToken, verifyCartToken } from \"./auth\";\n\nexport const modifyCart = async function(\n  updatedQuantity:number,\n  itemID:string,\n  setCart:Function,\n  isRequestPending:boolean,\n  setIsRequestPending:Function,\n  selection: string,\n  isClub:boolean\n){\n  let cartTokenKey:string = '';\n  //handle not a club request & checking for undefined since isClub is optional\n  if (isClub===false){\n    cartTokenKey = 'cartToken';\n  }else{\n    cartTokenKey = 'clubCartToken';\n  };\n\n  try{\n    //handle request is already pending limited users to 1 request at a time\n    if (isRequestPending) throw new Error('A request is already pending. Please wait for the current request to complete.');\n    //set request to pending\n    setIsRequestPending(true);\n    if (!itemID || updatedQuantity<0) throw new Error('One or more required inputs were left blank.');\n    if(!cartTokenKey) throw new Error('Your request for a local storage cart token was invalid. Did you provide a isClub value to this function?');\n    //make a request to the server to update quantity for cart\n    const response = await fetch(`${getServerUrlPrefix()}/api/shop/carts`,{\n      method: 'PUT',\n      headers:{\n        'Content-Type': 'application/json',\n        'Cart-Token': `Bearer ${localStorage.getItem(cartTokenKey)}`,\n        'Authorization': `Bearer ${localStorage.getItem('loginToken')}`\n      },\n      body: JSON.stringify({\n        itemID: itemID,\n        updatedQuantity: updatedQuantity,\n        selection: selection,\n        isClubCart: isClub || undefined\n      })\n    });\n    if (response.status===510){\n      alert('You have reached the maximum allowed quantity for the selected item.');\n    };\n    //if the cart token is invalid request a fresh one and call modifyCart again\n    if (response.status===403){ //BUG WARNING IF 403 IS RETURNED WHEN YOU CANT ADD ANYTHING NEW TO YOUR CLUB CART YOU WILL BE CAUGHT IN AN ENDLESS LOOP OF 403 RESPONSES\n      //request a new cart token\n      localStorage.setItem(cartTokenKey,await requestCartToken(isClub || false));\n      modifyCart(updatedQuantity,itemID,setCart,isRequestPending,setIsRequestPending,selection,isClub);\n    };\n    if (!response.ok) throw new Error('An error occurred in the request to update the cart.');\n    const responseData = await response.json();\n\n    if (responseData.cartToken && responseData.cart){\n      //replace the cartToken in localStorage with the updated cartToken\n      localStorage.setItem(cartTokenKey,responseData.cartToken);\n      //update cart state\n      setCart(responseData.cart);\n    };\n    //allow another request to the server\n    setIsRequestPending(false);\n  }catch(err){\n    setIsRequestPending(false);\n  };\n};\n\nexport const fetchAndHandleCart = async function(setCart:Function,isClub?:boolean){\n  try {\n    const cartTokenKey = isClub ? 'clubCartToken' : 'cartToken';\n    const cartToken: string | null = localStorage.getItem(cartTokenKey);\n    // If a cart token was not found, obtain a fresh one\n    if (!cartToken) {\n      // Request a new cart token\n      localStorage.setItem(cartTokenKey, await requestCartToken(isClub || false));\n    };\n    // If a cart token exists but is invalid\n    if (!await verifyCartToken(setCart,isClub)) { //NOTE THIS VERIFYCART TOKEN IS SETTING A CART\n      localStorage.setItem(cartTokenKey, await requestCartToken(isClub || false));\n      // Because a new cart token was requested, set the cart state back to an empty array\n      setCart([]);\n    };\n  } catch (err) {\n    console.log(err);\n  };  \n};\n\nexport const getUnitPriceFromCartItem = function(storeItem:SpreadItem | BagelItem, selection?:string):number{\n  let price:number = 0;\n  if (storeItem.cat==='bagel' && selection==='two'){\n    const tempStoreItem:BagelItem = storeItem as BagelItem;\n    price = tempStoreItem.twoPrice;\n  }else if (storeItem.cat==='bagel' && selection==='six'){\n    const tempStoreItem:BagelItem = storeItem as BagelItem;\n    price = tempStoreItem.sixPrice;\n  }else if (storeItem.cat==='bagel' && selection==='dozen'){\n    const tempStoreItem:BagelItem = storeItem as BagelItem;\n    price = tempStoreItem.dozenPrice;\n  }else if (storeItem.cat==='spread'){\n    const tempCartItem:SpreadItem = storeItem as SpreadItem;\n    price = tempCartItem.price;\n  };\n  return price;\n};\n\nexport const handleCartItemInputChange = function(\n  e:any,\n  setCartQuantity:Function,\n  cartItem:CartItem,\n  setCart:Function,\n  isRequestPending:boolean,\n  setIsRequestPending:Function,\n  selection: string,\n  isClub:boolean\n){ //accepts an event from an input onChange \n  const newVal: number = parseInt(e.target.value);\n  //we dont want users to accidently delete their cart so lets prevent that\n  if (!newVal) {\n    setCartQuantity('');\n    return ;\n  };\n  modifyCart(\n    newVal,\n    cartItem.itemData._id,\n    setCart,\n    isRequestPending,\n    setIsRequestPending,\n    selection,\n    isClub\n  );\n};\n\nexport const getSelectionName = function(cartItem:CartItem){\n  if (cartItem.itemData.cat==='bagel' && cartItem.selection==='six') return 'Six Pack(s)';\n  if (cartItem.itemData.cat==='bagel' && cartItem.selection==='dozen') return \"Baker's Dozen(s)\";\n  if (cartItem.itemData.cat==='bagel' && cartItem.selection==='two') return 'Two Pack(s)';\n\n  //need to have this first because the current store items without category of spread show \n  if (cartItem.itemData.cat==='spread' && cartItem.selection==='halflb') return '1/2 LB';\n  if (cartItem.itemData.cat==='spread') return 'One Pound';\n  \n  if (cartItem.itemData.cat==='pastry') return 'Six Pack(s)';\n  if (cartItem.itemData.cat==='mystery') return 'Single(s)';\n  return 'N/A';\n};\n\nexport const getCartItemSubtotal = function(cartItem:CartItem):number{\n  return cartItem.quantity * cartItem.unitPriceInDollars;\n};\n\nexport const getItemQuantityFromCart = function(cart:Cart, itemName: string, selection?: string): number {\n  if (!cart || !cart.items) return 0;\n\n  let quantity = 0;\n\n  for (let index = 0; index < cart.items.length; index++) {\n    const cartItem: CartItem = cart.items[index];\n    \n    // Check if the selection and itemName match\n    if (\n      cartItem.selection === selection &&\n      cartItem.itemData.cat === 'bagel' &&\n      cartItem.itemData.name === itemName\n    ) {\n      quantity = cartItem.quantity;\n      break; // Exit the loop if the item is found\n    }else if(\n      cartItem.itemData.cat === 'spread' &&\n      cartItem.itemData.name === itemName\n    ){\n      quantity = cartItem.quantity;\n      break; // Exit the loop if the item is found\n    }else if(\n      cartItem.itemData.cat === 'pastry' &&\n      cartItem.itemData.name === itemName\n    ){\n      quantity = cartItem.quantity;\n      break;\n    }\n  };\n  return quantity;\n};\n\n\nexport const emptyCart = {\n  items: [],\n  subtotalInDollars: 0,\n  taxInDollars: 0,\n  totalQuantity: 0,\n  discountAmountInDollars: 0,\n  finalPriceInDollars: 0,\n  desiredShipDate: new Date(),\n  isGuest: false\n};\n\nexport const requestApplyMembershipPricingToCart = async function(setCart?:Function):Promise<void>{\n  const cartToken:string | null = localStorage.getItem('cartToken');\n  const loginToken:string | null = localStorage.getItem('loginToken');\n\n  if (cartToken){\n    const response = await fetch(`${getServerUrlPrefix()}/api/shop/carts/applyMembershipPricing`,{\n      method: 'POST',\n      headers:{\n        'Content-Type': 'application/json',\n        'Cart-Token': `Bearer ${cartToken}`,\n        'Authorization': `Bearer ${loginToken}`\n      }\n    });\n    if (response.ok){\n      const responseData = await response.json();\n      localStorage.setItem('cartToken',responseData.cartToken);\n      if (setCart) setCart(responseData.cart);\n      console.log('Membership pricing successfully applied!');\n    }else{\n      console.log('User is not a member.');\n    };\n  };\n};\n\nexport const isClubCartValid = function(clubCart:Cart):boolean{\n  let totalSpreadQuantity = 0;\n  let totalBagelQuantity = 0;\n\n  clubCart.items.map((cartItem)=>{\n    switch (cartItem.itemData.cat){\n      case 'bagel':\n        totalBagelQuantity+=cartItem.quantity;\n        break;\n      case 'spread':\n        totalSpreadQuantity+=cartItem.quantity;\n        break;\n      default:\n        break;\n    };\n  });\n  return (totalSpreadQuantity===1 && totalBagelQuantity===6);\n}\n\nexport const handlePlaceClubOrder = async function(clubCart:Cart,isClubCartValid:boolean,deliveriesRemaining:number,shipDate?:Date){\n  if (!isClubCartValid){\n    alert('To place your order you must have 6 \"Two Packs\" and 1 \"1/2 LB\" spread in your cart.')\n  }else if(!shipDate){\n    alert('You must select a ship date to place your order.');\n  }else if(deliveriesRemaining<=0){\n    alert('You do not have any deliveries remaining this billing cycle.');\n  }else{\n    //request the cart token\n    const response = await fetch(`${getServerUrlPrefix()}/api/memberships/create-club-checkout-session`,{\n      method: 'POST',\n      headers:{\n        'Content-Type': `application/json`,\n        'Authorization': `Bearer ${localStorage.getItem('loginToken')}`,\n        'cart-token': `Bearer ${localStorage.getItem('clubCartToken')}`\n      },\n      body:JSON.stringify({\n        shipDate: shipDate\n      })\n    });\n    const responseData = await response.json();\n    if (responseData.sessionUrl) window.location.href=responseData.sessionUrl;\n  }\n};"],"names":["OrderTrackingItem","_ref","trackingNumber","order","index","_jsxs","children","_jsx","_Fragment","OrderItem","cart","dateCreated","giftMessage","shippingAddress","status","totalAmount","trackingNumberArr","isExpanded","setIsExpanded","useState","orderLevel","toLowerCase","getOrderLevel","pendingOrderColor","processingOrderColor","shippedOrderColor","className","toUTCString","split","slice","join","_id","fullName","phone","line1","city","state","postal_code","country","items","map","cartItem","formattedSelection","getSelectionName","quantity","itemData","name","unitPriceInDollars","toFixed","subtotalInDollars","taxInDollars","discountAmountInDollars","finalPriceInDollars","src","orderPendingImg","alt","style","backgroundColor","orderProcessingImg","orderShippedImg","length","Date","desiredShipDate","onClick","toggleExpandOrderItem","MyOrders","emailInput","setEmailInput","orderIDInput","setOrderIDInput","setOrder","isSignedIn","setIsSignedIn","isSidebarExpanded","setIsSidebarExpanded","setCart","emptyCart","isInitialLoad","useRef","useEffect","current","fetchAndHandleCart","verifyLoginToken","Sidebar","value","onChange","e","target","placeholder","newVal","type","async","alert","formattedOrderID","substring","response","fetch","concat","getServerUrlPrefix","method","headers","body","JSON","stringify","userEmail","responseData","json","orderData","handleRequestOrder","IS_MAINTENANCE_MODE","HOME_LOADING_DELAY","getClientUrlPrefix","verifyCartToken","isClub","cartTokenKey","localStorage","getItem","Error","isValid","err","console","log","requestCartToken","cartToken","setIsAdmin","setUserID","ok","removeItem","isAdmin","userID","handleLogout","getMembershipTier","setMembershipTier","setRemainingDeliveries","setExpirationDate","membershipLevel","remainingDeliveries","expirationDate","toDateString","modifyCart","updatedQuantity","itemID","isRequestPending","setIsRequestPending","selection","isClubCart","undefined","setItem","handleCartItemInputChange","setCartQuantity","parseInt","cat","getCartItemSubtotal","getItemQuantityFromCart","itemName","totalQuantity","isGuest","requestApplyMembershipPricingToCart","loginToken","isClubCartValid","clubCart","totalSpreadQuantity","totalBagelQuantity","handlePlaceClubOrder","deliveriesRemaining","shipDate","sessionUrl","window","location","href"],"sourceRoot":""}