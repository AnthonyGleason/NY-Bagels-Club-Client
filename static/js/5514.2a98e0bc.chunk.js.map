{"version":3,"file":"static/js/5514.2a98e0bc.chunk.js","mappings":"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","sources":["Assets/icons/lock-1.svg","Assets/icons/stripe.svg","Assets/icons/x.svg","Components/Checkout/CartSummaryItem/CartSummaryItem.tsx","Components/Checkout/PreCheckoutSummary/PreCheckoutSummary.tsx","Components/Checkout/CartSummary/CartSummary.tsx","Config/clientSettings.ts","Helpers/auth.ts","Helpers/cart.tsx"],"sourcesContent":["var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgLock1(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#6772e5\",\n    d: \"M418.4 232.7h-23.3v-93.1C395.1 62.5 332.6 0 255.5 0S115.9 62.5 115.9 139.6v93.1H92.6c-12.8 0-23.3 10.4-23.3 23.3v232.7c0 12.9 10.4 23.3 23.3 23.3h325.8c12.8 0 23.3-10.4 23.3-23.3V256c0-12.9-10.5-23.3-23.3-23.3m-69.8 0H162.4v-93.1c0-51.4 41.7-93.1 93.1-93.1s93.1 41.7 93.1 93.1z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgLock1);\nexport default __webpack_public_path__ + \"static/media/lock-1.48caf73e8d95f2ad2fabcca7f71c1575.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgStripe(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"2.4em\",\n    height: \"1em\",\n    viewBox: \"0 0 512 214\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#635BFF\",\n    d: \"M512 110.08c0-36.409-17.636-65.138-51.342-65.138c-33.85 0-54.33 28.73-54.33 64.854c0 42.808 24.179 64.426 58.88 64.426c16.925 0 29.725-3.84 39.396-9.244v-28.445c-9.67 4.836-20.764 7.823-34.844 7.823c-13.796 0-26.027-4.836-27.591-21.618h69.547c0-1.85.284-9.245.284-12.658m-70.258-13.511c0-16.071 9.814-22.756 18.774-22.756c8.675 0 17.92 6.685 17.92 22.756zm-90.31-51.627c-13.939 0-22.899 6.542-27.876 11.094l-1.85-8.818h-31.288v165.83l35.555-7.537l.143-40.249c5.12 3.698 12.657 8.96 25.173 8.96c25.458 0 48.64-20.48 48.64-65.564c-.142-41.245-23.609-63.716-48.498-63.716m-8.534 97.991c-8.391 0-13.37-2.986-16.782-6.684l-.143-52.765c3.698-4.124 8.818-6.968 16.925-6.968c12.942 0 21.902 14.506 21.902 33.137c0 19.058-8.818 33.28-21.902 33.28M241.493 36.551l35.698-7.68V0l-35.698 7.538zm0 10.809h35.698v124.444h-35.698zm-38.257 10.524L200.96 47.36h-30.72v124.444h35.556V87.467c8.39-10.951 22.613-8.96 27.022-7.396V47.36c-4.551-1.707-21.191-4.836-29.582 10.524m-71.112-41.386l-34.702 7.395l-.142 113.92c0 21.05 15.787 36.551 36.836 36.551c11.662 0 20.195-2.133 24.888-4.693V140.8c-4.55 1.849-27.022 8.391-27.022-12.658V77.653h27.022V47.36h-27.022zM35.982 83.484c0-5.546 4.551-7.68 12.09-7.68c10.808 0 24.461 3.272 35.27 9.103V51.484c-11.804-4.693-23.466-6.542-35.27-6.542C19.2 44.942 0 60.018 0 85.192c0 39.252 54.044 32.995 54.044 49.92c0 6.541-5.688 8.675-13.653 8.675c-11.804 0-26.88-4.836-38.827-11.378v33.849c13.227 5.689 26.596 8.106 38.827 8.106c29.582 0 49.92-14.648 49.92-40.106c-.142-42.382-54.329-34.845-54.329-50.774\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgStripe);\nexport default __webpack_public_path__ + \"static/media/stripe.09dd69525681575cdc05aa0a30bc6d59.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgX(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 256 256\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"white\",\n    d: \"M205.66 194.34a8 8 0 0 1-11.32 11.32L128 139.31l-66.34 66.35a8 8 0 0 1-11.32-11.32L116.69 128L50.34 61.66a8 8 0 0 1 11.32-11.32L128 116.69l66.34-66.35a8 8 0 0 1 11.32 11.32L139.31 128Z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgX);\nexport default __webpack_public_path__ + \"static/media/x.b3295ae9ce0a3b7b53fbb42a0c049fa1.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useState } from 'react';\nimport { getCartItemSubtotal, getSelectionName, handleCartItemInputChange, modifyCart } from '../../../Helpers/cart';\nimport removeImg from '../../../Assets/icons/x.svg';\nimport { CartItem } from '../../../Interfaces/interfaces';\n\nexport default function CartSummaryItem(\n  {\n    cartItem,\n    setCart,\n  }:{\n    cartItem:CartItem,\n    setCart:Function,\n  }\n){\n  const [cartItemQuantity,setCartItemQuantity] = useState<number | string>(cartItem.quantity);\n  const [cartItemSubtotal,setCartItemSubtotal] = useState<number>(getCartItemSubtotal(cartItem));\n  const [isRequestPending,setIsRequestPending] = useState<boolean>(false);\n  \n  //whenever the cartItem quantity is updated, update the states\n  useEffect(()=>{\n    //update item quantity\n    setCartItemQuantity(cartItem.quantity);\n    //update subtotal\n    setCartItemSubtotal(getCartItemSubtotal(cartItem))\n  },[cartItem.quantity, cartItem])\n  return(\n    <tr>\n      <td className='item-name'>{cartItem.itemData.name} {getSelectionName(cartItem)}</td>\n      <td>\n        <input\n          type='number'\n          value={cartItemQuantity}\n          onChange={(e) => { \n            handleCartItemInputChange(\n              e,\n              setCartItemQuantity,\n              cartItem,\n              setCart,\n              isRequestPending,\n              setIsRequestPending,\n              cartItem.selection || '',\n              false\n            )\n          }}\n        />\n      </td>\n      <td className='item-subtotal'>\n        ${cartItemSubtotal.toFixed(2)}\n      </td>\n      <td className='item-remove-wrapper'>\n        <button className='button-styled' onClick={() => {\n          modifyCart(\n            0,\n            cartItem.itemData._id,\n            setCart,\n            isRequestPending,\n            setIsRequestPending,\n            cartItem.selection || '',\n            false\n          );\n        }}>\n          <img src={removeImg} alt='remove from cart' loading=\"lazy\" />\n        </button>\n      </td>\n    </tr>\n  )\n};","import React, { useState } from 'react';\nimport CartSummaryItem from '../CartSummaryItem/CartSummaryItem';\nimport { Cart } from '../../../Interfaces/interfaces';\nimport './PreCheckoutSummary.css';\nimport { getServerUrlPrefix } from '../../../Config/clientSettings';\nimport '../Checkout.css';\nimport stripeImg from '../../../Assets/icons/stripe.svg';\nimport lockImg from '../../../Assets/icons/lock-1.svg';\n\nexport default function PreCheckoutSummary({\n  isSidebarExpanded,\n  setIsSidebarExpanded,\n  cart,\n  setCart\n}:{\n  isSidebarExpanded:boolean,\n  setIsSidebarExpanded:Function,\n  cart:Cart,\n  setCart:Function\n}){\n  const getNextValidDay = function(){\n    const today = new Date();\n    const currentDay = today.getDay(); // Sunday is 0, Monday is 1, ..., Saturday is 6\n\n    // Calculate the difference between the current day and the next Wednesday or Thursday\n    const daysUntilNextValidDay = currentDay <= 2 ? 3 - currentDay : 10 - currentDay;\n\n    // Calculate the timestamp of the next Wednesday or Thursday\n    const nextValidDayTimestamp = today.getTime() + daysUntilNextValidDay * 24 * 60 * 60 * 1000;\n    \n    // Create a new Date object for the next Wednesday or Thursday\n    const nextValidDay = new Date(nextValidDayTimestamp);\n    \n    return nextValidDay.toISOString().split('T')[0];\n  };\n\n  const [date,setDate] = useState<string>(getNextValidDay());\n  const [isGiftInput,setIsGiftInput] = useState<boolean>(false);\n  const [giftMessageInput,setGiftMessageInput] = useState<string>('');\n\n  const handleNavigateCheckout = async function(){\n    if (cart.subtotalInDollars<=25){\n      alert('Your cart must be at least $25 to checkout.');\n      return;\n    };\n\n    if (!date){\n      alert('You must select a ship date for your order to proceed.');\n    }else{\n      const body = {\n        giftMessage: giftMessageInput || '',\n        shipDate: date\n      };\n      const response = await fetch(`${getServerUrlPrefix()}/api/shop/carts/create-checkout-session`,{\n        method: 'POST',\n        headers:{\n          'Authorization': `Bearer ${localStorage.getItem('loginToken')}`,\n          'cart-token': `Bearer ${localStorage.getItem('cartToken')}`,\n          'Content-Type': 'application/json'\n        },\n        body:JSON.stringify(body)\n      });\n      const responseData = await response.json();\n      if (response.status!==200){\n        alert('There was an error retrieving your account information. Please sign in again.');\n      }else{\n        window.location.href=responseData.sessionUrl;\n      };\n    };\n  };\n\n  const validateDate = function (date: string): boolean {\n    const selectedDate = new Date(date);\n  \n    // Format today's date with the \"America/New_York\" time zone\n    const today = new Date().toLocaleString(\"en-US\", { timeZone: \"America/New_York\" });\n  \n    // Format selected date with the \"America/New_York\" time zone\n    const formattedSelectedDate = new Date(selectedDate.toLocaleString(\"en-US\", { timeZone: \"America/New_York\" }));\n  \n    // Check if the day is either Wednesday or Thursday\n    const isWednesdayOrThursday = formattedSelectedDate.getDay() === 2 || formattedSelectedDate.getDay() === 3;\n  \n    // Check if the selected date is today or in the future\n    const isFutureDate = formattedSelectedDate.getTime() > new Date(today).getTime();\n  \n    return isWednesdayOrThursday && isFutureDate;\n  };\n\n    \n  \n  const handleDateChange = function (newDate: string) {\n    const isDateValid = validateDate(newDate);\n    if (isDateValid) {\n      setDate(new Date(newDate).toISOString().split('T')[0]); // Convert the string to a Date object\n    } else {\n      alert('You have selected an invalid date, please select a future Wednesday or Thursday.');\n    }\n  };\n\n  return(\n    <section id='pre-checkout' className='cart-summary' onClick={()=>{setIsSidebarExpanded(isSidebarExpanded===true ? false: false)}}>\n      <div className='cart-summary-wrapper'>\n        <div className='calendar-wrapper'>\n          <h3>Choose Your Ship Date</h3>\n          <strong>\n            {\n              date ?\n                `Your order will ship on ${new Date(new Date(date).toLocaleString('en-US', { timeZone: 'UTC' })).toDateString()} or the next available business day.`\n              :\n                'Please select a Wednesday or Thursday you would like your order shipped on.'\n            }\n          </strong>\n          <input type='date' \n            value={date}\n            onChange={(e) => handleDateChange(e.target.value)}\n          />\n        </div>\n        <div className='basket-wrapper'>  \n          <h3>Basket</h3>\n            <table>\n              <thead>\n                <tr>\n                  <th className=\"item-name\">Name</th>\n                  <th className=\"item-quantity\">Quantity</th>\n                  <th className=\"item-subtotal\">Subtotal</th>\n                  <th className=\"item-remove\">Remove</th>\n                </tr>\n              </thead>\n              <tbody>\n                {\n                  cart.items.map((cartItem, index) => {\n                    return (\n                      <CartSummaryItem \n                        key={index}\n                        cartItem={cartItem}\n                        setCart={setCart}\n                      />\n                    );\n                  })\n                }\n              </tbody>\n            </table>\n          <div className='cart-subtotal'>\n            <span><strong>Basket Subtotal: ${cart.subtotalInDollars.toFixed(2)}</strong></span>\n            <b className='cart-shipping-note'>We have applied our FREE Priority Shipping offer to your cart. Taxes are calculated at checkout.</b>\n          </div>\n        </div>\n        {/* <button onClick={()=>{alert(\"We appreciate your interest in our delicious bagels! Although we're not officially open yet, we're still accepting orders. Feel free to contact sales@nybagelsclub.com to place any orders.\")}}>Checkout</button> */}\n        <div className='gift-wrapper'>\n        <h3>Is This Order A Gift?</h3>\n          <div className='gift-options-content'>\n            <div className='gift-toggle-container'>\n              <input\n                type='checkbox'\n                checked={isGiftInput}\n                onChange={(e) => setIsGiftInput(e.target.checked)}\n              />\n            </div>\n            {\n              isGiftInput===true\n              ?\n                <div className='gift-options-form'>\n                  <div>\n                    <label>Leave A Gift Message (Optional)</label>\n                    <textarea maxLength={400} value={giftMessageInput} onChange={(e)=>{setGiftMessageInput(e.target.value)}} />\n                  </div>\n                </div>\n              :\n                null\n            }\n          </div>\n        </div>\n        <div className='checkout-secured'>\n          <p>Checkout Secured By</p> \n          <img alt='checkout secured by stripe' className='stripe-footer-img' src={stripeImg} loading=\"lazy\" />\n          <img alt='this website is secured with ssl' className='lock-img' src={lockImg} loading=\"lazy\" />\n        </div>\n        <button className='button-styled' onClick={()=>{handleNavigateCheckout()}}>Checkout Now</button>\n      </div>\n    </section>\n  )\n};","import React, { useEffect, useRef, useState } from 'react';\nimport { Cart } from '../../../Interfaces/interfaces';\nimport { emptyCart, fetchAndHandleCart, requestApplyMembershipPricingToCart  } from '../../../Helpers/cart';\nimport './CartSummary.css';\nimport { verifyLoginToken } from '../../../Helpers/auth';\nimport Sidebar from '../../Sidebar/Sidebar';\nimport PreCheckoutSummary from '../PreCheckoutSummary/PreCheckoutSummary';\n\nexport default function CartSummary(){\n  const [isSignedIn,setIsSignedIn] = useState<boolean>(true);\n  const [isSidebarExpanded,setIsSidebarExpanded] = useState<boolean>(false);\n  const [cart,setCart] = useState<Cart>(emptyCart);\n\n  const isInitialLoad = useRef(true);\n  //handle initial page load (grab latest cart data);\n  useEffect(()=>{\n    if (isInitialLoad.current){\n      isInitialLoad.current=false;\n      fetchAndHandleCart(setCart);\n      verifyLoginToken(setIsSignedIn);\n      //apply any membership discounts\n      requestApplyMembershipPricingToCart(setCart);\n    };\n  },[]);\n\n  //handle empty shopping cart\n  if (cart.items.length===0){\n    return(\n      <>\n        <Sidebar \n          cart={cart}\n          isExpanded={isSidebarExpanded} \n          setIsExpanded={setIsSidebarExpanded}\n          isSignedIn={isSignedIn}\n          setIsSignedIn={setIsSignedIn}\n        />\n        <div className='cart-summary' onClick={()=>{setIsSidebarExpanded(isSidebarExpanded===true ? false: false)}}>\n          <h3>Basket</h3>\n          <strong>Your Basket is Currently Empty.</strong>\n        </div>\n      </>\n    );\n  }else{\n    return(\n      <>\n        <Sidebar \n          cart={cart}\n          isExpanded={isSidebarExpanded} \n          setIsExpanded={setIsSidebarExpanded}\n          isSignedIn={isSignedIn}\n          setIsSignedIn={setIsSignedIn}\n        />\n        <PreCheckoutSummary \n          isSidebarExpanded = {isSidebarExpanded}\n          setIsSidebarExpanded={setIsSidebarExpanded}\n          cart= {cart}\n          setCart = {setCart}\n        />\n      </>\n    );\n  }\n};","const USE_LOCALHOST:boolean = false; //FALSE FOR PRODUCTION\n\nexport const IS_MAINTENANCE_MODE:boolean = false;\nexport const HOME_LOADING_DELAY:number= 2250 //in milliseconds\n\nexport const getServerUrlPrefix = function(){\n  if (USE_LOCALHOST){\n    return('http://localhost:5000');\n  }else{\n    return('https://nybagelsclub-7eb3cdcd8d53.herokuapp.com');\n  };\n};\n\nexport const getClientUrlPrefix = function(){\n  if (USE_LOCALHOST){\n    return('http://localhost:3000');\n  }else{\n    return('https://anthonygleason.github.io/NY-Bagels-Club-Client')\n  };\n};\nexport const CHECKOUT_SUCCESS_REDIRECT_URL:string = `${getServerUrlPrefix()}/cart/checkout/success`;","import { getServerUrlPrefix } from \"../Config/clientSettings\";\n\nexport const verifyCartToken = async function(setCart:Function, isClub?:boolean):Promise<boolean>{\n  const cartTokenKey = isClub ? 'clubCartToken' : 'cartToken';\n  try{\n    const response = await fetch(`${getServerUrlPrefix()}/api/shop/carts/verify`,{\n      method: 'GET',\n      headers:{\n        'Content-Type': 'application/json',\n        'Cart-Token': `Bearer ${localStorage.getItem(cartTokenKey)}`,\n        'Authorization': `Bearer ${localStorage.getItem('loginToken')}`\n      }\n    });\n    if (response.status!==200) throw new Error('No valid cart detected. Either the user does not have a cart token or the token expired.');\n    const responseData = await response.json();\n    setCart(responseData.cart);\n    return responseData.isValid;\n  }catch(err){\n    console.log(err);\n    return false;\n  };\n};\n\nexport const requestCartToken = async function(isClub:boolean){\n  const response = await fetch(`${getServerUrlPrefix()}/api/shop/carts`,{\n    method: 'POST',\n    headers:{\n      'Content-Type': 'application/json',\n    },\n    body:JSON.stringify({\n      isClub: isClub\n    })\n  });\n  const responseData = await response.json();\n  if (responseData.cartToken){\n    //return the cart session token\n    return responseData.cartToken;  \n  }\n};\n\nexport const verifyLoginToken = async function(\n  setIsSignedIn?:Function,\n  setIsAdmin?:Function,\n  setUserID?:Function\n):Promise<boolean>{\n  let isValid:boolean = false;\n  //handle no login token is present\n  if (!localStorage.getItem('loginToken')){\n    if (setIsSignedIn) setIsSignedIn(false);\n    if (setIsAdmin) setIsAdmin(false);\n    return false;\n  };\n  try{\n    const response = await fetch(`${getServerUrlPrefix()}/api/users/verify`,{\n      method: 'GET',\n      headers:{\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${localStorage.getItem('loginToken')}`\n      }\n    });\n    const responseData = await response.json();\n    //handle 403 unauthorized\n    if (response.ok===false || response.status===403){\n      localStorage.removeItem('loginToken');\n      isValid=false;\n    }else{\n      isValid=responseData.isValid;\n    };\n    if (setIsAdmin && responseData.isAdmin===true) setIsAdmin(true);\n    if (setIsSignedIn) setIsSignedIn(isValid);\n    if (setUserID) setUserID(responseData.userID);\n    return isValid;\n  }catch(err){\n    console.log(err);\n    if (setIsAdmin) setIsAdmin(false);\n    return false;\n  };\n};\n\nexport const handleLogout = async function(setIsSignedIn?:Function){\n  await fetch(`${getServerUrlPrefix()}/api/users/logout`,{\n    method: 'POST',\n    headers:{\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${localStorage.getItem('loginToken')}`\n    }\n  });\n  if (setIsSignedIn) setIsSignedIn(false);\n  //remove the token locally\n  localStorage.removeItem('loginToken');\n};\n\nexport const getMembershipTier = async function(\n    setMembershipTier?:Function,\n    setRemainingDeliveries?:Function,\n    setExpirationDate?:Function\n  ):Promise<string>{\n  try{\n    if (!localStorage.getItem('loginToken')) throw new Error('You are not signed in');\n    const response = await fetch(`${getServerUrlPrefix()}/api/users/membershipLevel`,{\n      method: 'GET',\n      headers:{\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${localStorage.getItem('loginToken')}`\n      }\n    });\n    const responseData = await response.json();\n    if (setMembershipTier) setMembershipTier(responseData.membershipLevel);\n    if (setRemainingDeliveries) setRemainingDeliveries(responseData.remainingDeliveries);\n    if (setExpirationDate) setExpirationDate(new Date(responseData.expirationDate).toDateString());\n    return responseData.membershipLevel;\n  }catch(err){\n    console.log('You are not signed in, showing non-member pricing.');\n    if (setMembershipTier) setMembershipTier('Non-Member');\n    return 'Non-Member';\n  };\n};","import { getServerUrlPrefix } from \"../Config/clientSettings\";\nimport { BagelItem, Cart, CartItem, SpreadItem } from \"../Interfaces/interfaces\";\nimport { requestCartToken, verifyCartToken } from \"./auth\";\n\nexport const modifyCart = async function(\n  updatedQuantity:number,\n  itemID:string,\n  setCart:Function,\n  isRequestPending:boolean,\n  setIsRequestPending:Function,\n  selection: string,\n  isClub:boolean\n){\n  let cartTokenKey:string = '';\n  //handle not a club request & checking for undefined since isClub is optional\n  if (isClub===false){\n    cartTokenKey = 'cartToken';\n  }else{\n    cartTokenKey = 'clubCartToken';\n  };\n\n  try{\n    //handle request is already pending limited users to 1 request at a time\n    if (isRequestPending) throw new Error('A request is already pending. Please wait for the current request to complete.');\n    //set request to pending\n    setIsRequestPending(true);\n    if (!itemID || updatedQuantity<0) throw new Error('One or more required inputs were left blank.');\n    if(!cartTokenKey) throw new Error('Your request for a local storage cart token was invalid. Did you provide a isClub value to this function?');\n    //make a request to the server to update quantity for cart\n    const response = await fetch(`${getServerUrlPrefix()}/api/shop/carts`,{\n      method: 'PUT',\n      headers:{\n        'Content-Type': 'application/json',\n        'Cart-Token': `Bearer ${localStorage.getItem(cartTokenKey)}`,\n        'Authorization': `Bearer ${localStorage.getItem('loginToken')}`\n      },\n      body: JSON.stringify({\n        itemID: itemID,\n        updatedQuantity: updatedQuantity,\n        selection: selection,\n        isClubCart: isClub || undefined\n      })\n    });\n    if (response.status===510){\n      alert('You have reached the maximum allowed quantity for the selected item.');\n    };\n    //if the cart token is invalid request a fresh one and call modifyCart again\n    if (response.status===403){ //BUG WARNING IF 403 IS RETURNED WHEN YOU CANT ADD ANYTHING NEW TO YOUR CLUB CART YOU WILL BE CAUGHT IN AN ENDLESS LOOP OF 403 RESPONSES\n      //request a new cart token\n      localStorage.setItem(cartTokenKey,await requestCartToken(isClub || false));\n      modifyCart(updatedQuantity,itemID,setCart,isRequestPending,setIsRequestPending,selection,isClub);\n    };\n    if (!response.ok) throw new Error('An error occurred in the request to update the cart.');\n    const responseData = await response.json();\n\n    if (responseData.cartToken && responseData.cart){\n      //replace the cartToken in localStorage with the updated cartToken\n      localStorage.setItem(cartTokenKey,responseData.cartToken);\n      //update cart state\n      setCart(responseData.cart);\n    };\n    //allow another request to the server\n    setIsRequestPending(false);\n  }catch(err){\n    setIsRequestPending(false);\n  };\n};\n\nexport const fetchAndHandleCart = async function(setCart:Function,isClub?:boolean){\n  try {\n    const cartTokenKey = isClub ? 'clubCartToken' : 'cartToken';\n    const cartToken: string | null = localStorage.getItem(cartTokenKey);\n    // If a cart token was not found, obtain a fresh one\n    if (!cartToken) {\n      // Request a new cart token\n      localStorage.setItem(cartTokenKey, await requestCartToken(isClub || false));\n    };\n    // If a cart token exists but is invalid\n    if (!await verifyCartToken(setCart,isClub)) { //NOTE THIS VERIFYCART TOKEN IS SETTING A CART\n      localStorage.setItem(cartTokenKey, await requestCartToken(isClub || false));\n      // Because a new cart token was requested, set the cart state back to an empty array\n      setCart([]);\n    };\n  } catch (err) {\n    console.log(err);\n  };  \n};\n\nexport const getUnitPriceFromCartItem = function(storeItem:SpreadItem | BagelItem, selection?:string):number{\n  let price:number = 0;\n  if (storeItem.cat==='bagel' && selection==='two'){\n    const tempStoreItem:BagelItem = storeItem as BagelItem;\n    price = tempStoreItem.twoPrice;\n  }else if (storeItem.cat==='bagel' && selection==='six'){\n    const tempStoreItem:BagelItem = storeItem as BagelItem;\n    price = tempStoreItem.sixPrice;\n  }else if (storeItem.cat==='bagel' && selection==='dozen'){\n    const tempStoreItem:BagelItem = storeItem as BagelItem;\n    price = tempStoreItem.dozenPrice;\n  }else if (storeItem.cat==='spread'){\n    const tempCartItem:SpreadItem = storeItem as SpreadItem;\n    price = tempCartItem.price;\n  };\n  return price;\n};\n\nexport const handleCartItemInputChange = function(\n  e:any,\n  setCartQuantity:Function,\n  cartItem:CartItem,\n  setCart:Function,\n  isRequestPending:boolean,\n  setIsRequestPending:Function,\n  selection: string,\n  isClub:boolean\n){ //accepts an event from an input onChange \n  const newVal: number = parseInt(e.target.value);\n  //we dont want users to accidently delete their cart so lets prevent that\n  if (!newVal) {\n    setCartQuantity('');\n    return ;\n  };\n  modifyCart(\n    newVal,\n    cartItem.itemData._id,\n    setCart,\n    isRequestPending,\n    setIsRequestPending,\n    selection,\n    isClub\n  );\n};\n\nexport const getSelectionName = function(cartItem:CartItem){\n  if (cartItem.itemData.cat==='bagel' && cartItem.selection==='six') return 'Six Pack(s)';\n  if (cartItem.itemData.cat==='bagel' && cartItem.selection==='dozen') return \"Baker's Dozen(s)\";\n  if (cartItem.itemData.cat==='bagel' && cartItem.selection==='two') return 'Two Pack(s)';\n\n  //need to have this first because the current store items without category of spread show \n  if (cartItem.itemData.cat==='spread' && cartItem.selection==='halflb') return '1/2 LB';\n  if (cartItem.itemData.cat==='spread') return 'One Pound';\n  \n  if (cartItem.itemData.cat==='pastry') return 'Six Pack(s)';\n  if (cartItem.itemData.cat==='mystery') return 'Single(s)';\n  return 'N/A';\n};\n\nexport const getCartItemSubtotal = function(cartItem:CartItem):number{\n  return cartItem.quantity * cartItem.unitPriceInDollars;\n};\n\nexport const getItemQuantityFromCart = function(cart:Cart, itemName: string, selection?: string): number {\n  if (!cart || !cart.items) return 0;\n\n  let quantity = 0;\n\n  for (let index = 0; index < cart.items.length; index++) {\n    const cartItem: CartItem = cart.items[index];\n    \n    // Check if the selection and itemName match\n    if (\n      cartItem.selection === selection &&\n      cartItem.itemData.cat === 'bagel' &&\n      cartItem.itemData.name === itemName\n    ) {\n      quantity = cartItem.quantity;\n      break; // Exit the loop if the item is found\n    }else if(\n      cartItem.itemData.cat === 'spread' &&\n      cartItem.itemData.name === itemName\n    ){\n      quantity = cartItem.quantity;\n      break; // Exit the loop if the item is found\n    }else if(\n      cartItem.itemData.cat === 'pastry' &&\n      cartItem.itemData.name === itemName\n    ){\n      quantity = cartItem.quantity;\n      break;\n    }\n  };\n  return quantity;\n};\n\n\nexport const emptyCart = {\n  items: [],\n  subtotalInDollars: 0,\n  taxInDollars: 0,\n  totalQuantity: 0,\n  discountAmountInDollars: 0,\n  finalPriceInDollars: 0,\n  desiredShipDate: new Date(),\n  isGuest: false\n};\n\nexport const requestApplyMembershipPricingToCart = async function(setCart?:Function):Promise<void>{\n  const cartToken:string | null = localStorage.getItem('cartToken');\n  const loginToken:string | null = localStorage.getItem('loginToken');\n\n  if (cartToken){\n    const response = await fetch(`${getServerUrlPrefix()}/api/shop/carts/applyMembershipPricing`,{\n      method: 'POST',\n      headers:{\n        'Content-Type': 'application/json',\n        'Cart-Token': `Bearer ${cartToken}`,\n        'Authorization': `Bearer ${loginToken}`\n      }\n    });\n    if (response.ok){\n      const responseData = await response.json();\n      localStorage.setItem('cartToken',responseData.cartToken);\n      if (setCart) setCart(responseData.cart);\n      console.log('Membership pricing successfully applied!');\n    }else{\n      console.log('User is not a member.');\n    };\n  };\n};\n\nexport const isClubCartValid = function(clubCart:Cart):boolean{\n  let totalSpreadQuantity = 0;\n  let totalBagelQuantity = 0;\n\n  clubCart.items.map((cartItem)=>{\n    switch (cartItem.itemData.cat){\n      case 'bagel':\n        totalBagelQuantity+=cartItem.quantity;\n        break;\n      case 'spread':\n        totalSpreadQuantity+=cartItem.quantity;\n        break;\n      default:\n        break;\n    };\n  });\n  return (totalSpreadQuantity===1 && totalBagelQuantity===6);\n}\n\nexport const handlePlaceClubOrder = async function(clubCart:Cart,isClubCartValid:boolean,deliveriesRemaining:number,shipDate?:Date){\n  if (!isClubCartValid){\n    alert('To place your order you must have 6 \"Two Packs\" and 1 \"1/2 LB\" spread in your cart.')\n  }else if(!shipDate){\n    alert('You must select a ship date to place your order.');\n  }else if(deliveriesRemaining<=0){\n    alert('You do not have any deliveries remaining this billing cycle.');\n  }else{\n    //request the cart token\n    const response = await fetch(`${getServerUrlPrefix()}/api/memberships/create-club-checkout-session`,{\n      method: 'POST',\n      headers:{\n        'Content-Type': `application/json`,\n        'Authorization': `Bearer ${localStorage.getItem('loginToken')}`,\n        'cart-token': `Bearer ${localStorage.getItem('clubCartToken')}`\n      },\n      body:JSON.stringify({\n        shipDate: shipDate\n      })\n    });\n    const responseData = await response.json();\n    if (responseData.sessionUrl) window.location.href=responseData.sessionUrl;\n  }\n};"],"names":["CartSummaryItem","_ref","cartItem","setCart","cartItemQuantity","setCartItemQuantity","useState","quantity","cartItemSubtotal","setCartItemSubtotal","getCartItemSubtotal","isRequestPending","setIsRequestPending","useEffect","_jsxs","children","className","itemData","name","getSelectionName","_jsx","type","value","onChange","e","handleCartItemInputChange","selection","toFixed","onClick","modifyCart","_id","src","removeImg","alt","loading","PreCheckoutSummary","isSidebarExpanded","setIsSidebarExpanded","cart","date","setDate","today","Date","currentDay","getDay","daysUntilNextValidDay","nextValidDayTimestamp","getTime","toISOString","split","getNextValidDay","isGiftInput","setIsGiftInput","giftMessageInput","setGiftMessageInput","handleDateChange","newDate","isDateValid","selectedDate","toLocaleString","timeZone","formattedSelectedDate","isWednesdayOrThursday","isFutureDate","validateDate","alert","id","concat","toDateString","target","items","map","index","subtotalInDollars","checked","maxLength","stripeImg","lockImg","async","body","giftMessage","shipDate","response","fetch","getServerUrlPrefix","method","headers","localStorage","getItem","JSON","stringify","responseData","json","status","window","location","href","sessionUrl","handleNavigateCheckout","CartSummary","isSignedIn","setIsSignedIn","emptyCart","isInitialLoad","useRef","current","fetchAndHandleCart","verifyLoginToken","requestApplyMembershipPricingToCart","length","_Fragment","Sidebar","isExpanded","setIsExpanded","IS_MAINTENANCE_MODE","HOME_LOADING_DELAY","getClientUrlPrefix","verifyCartToken","isClub","cartTokenKey","Error","isValid","err","console","log","requestCartToken","cartToken","setIsAdmin","setUserID","ok","removeItem","isAdmin","userID","handleLogout","getMembershipTier","setMembershipTier","setRemainingDeliveries","setExpirationDate","membershipLevel","remainingDeliveries","expirationDate","updatedQuantity","itemID","isClubCart","undefined","setItem","setCartQuantity","newVal","parseInt","cat","unitPriceInDollars","getItemQuantityFromCart","itemName","taxInDollars","totalQuantity","discountAmountInDollars","finalPriceInDollars","desiredShipDate","isGuest","loginToken","isClubCartValid","clubCart","totalSpreadQuantity","totalBagelQuantity","handlePlaceClubOrder","deliveriesRemaining"],"sourceRoot":""}